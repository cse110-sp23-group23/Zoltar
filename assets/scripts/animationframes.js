function i(t,e,i,a){return e.clone().sub(t).multiplyScalar(i*a)}function t(t,e){0<e.state.currentShakeDuration||!e.state.responseGenerated?(e.state.shakeDeltaVec.random().subScalar(.5).multiply(e.options.shake.intensity),e.camera.position.add(e.state.shakeDeltaVec),e.state.currentShakeDuration-=t,e.state.shakeEndHappened=!1):e.state.shakeEndHappened||(e.state.shakeEndHappened=!0,e.ticket.position.copy(e.options.ticketSlide.initialPosition),e.scene.add(e.ticket),e.state.ticketDoneSliding=!1,e.state.slideCameraTowardDefault=!0)}function e(t,e){var i;e.state.flickerTime+=t,0<e.state.currentFlickerCount?(t=e.state,i=e.options,t.flickerOn&&t.flickerTime>=i.flicker.onInterval?(e.scene.remove(e.ambient),e.state.flickerOn=!1,e.state.flickerTime=0):!(t=e.state).flickerOn&&t.flickerTime>=t.curFlickerOffInterval&&(e.scene.add(e.ambient),e.state.flickerOn=!0,e.state.flickerTime=0,--e.state.currentFlickerCount,e.state.curFlickerOffInterval=e.options.flicker.timingFunc())):Math.random()<e.options.flicker.startProbability&&(e.state.currentFlickerCount=e.options.flicker.countFunc())}function a(t,e){e.state.slideCameraTowardDefault&&(t=i(e.camera.position,e.options.camera.defaultPosition,e.options.cameraSlide.speed,t),e.camera.position.add(t),e.camera.position.equals(e.options.camera.defaultPosition))&&(e.state.slideCameraTowardDefault=!1)}function n(t,e){e.ticket.position.distanceTo(e.options.ticketSlide.finalPosition)<=.01?e.state.ticketSpawned&&(e.state.ticketDoneSliding=!0):(t=i(e.ticket.position,e.options.ticketSlide.finalPosition,e.options.ticketSlide.speed,t),e.ticket.position.add(t))}export{t as animateShakeFrame,e as animateFlickerFrame,a as conditionalAnimateSlideCameraFrame,n as animateTicketSlideFrame};