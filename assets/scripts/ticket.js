import{saveState as n}from"./storage.js";import{slowHideElement as c,toggleClassToArr as r,convertArrToReadableString as e}from"./util.js";let a={},o={},i={};const s={currentMessage:"",currentNumbers:[],currentImageBack:"",currentImageFront:""};function t(){return!a.main.classList.contains("hidden-animation")}function d(){return!a.main.classList.contains("ticket-hoverable")}function u(){return!o.main.classList.contains("hidden")}function m(){a.main.classList.add("hidden-animation"),a.main.classList.remove("ticket-hoverable"),o.main.classList.remove("hidden"),o.cover.classList.remove("hidden"),setTimeout(()=>{r([a.background,a.front,a.back],"flipped")},500)}function l(){a.ticketCount.classList.add("hidden"),i.settings.classList.add("hidden"),a.main.classList.remove("hidden-animation"),setTimeout(()=>{a.main.classList.add("ticket-hoverable")},500)}function k(){d()||(a.main.classList.remove("ticket-hoverable"),r([a.background,a.front,a.back],"flipped"))}function g(){a.text.innerText=s.currentMessage,a.numbers.innerText=e(s.currentNumbers),a.backgroundImage.src=`assets/images/image-bank-back/background-card-${s.currentImageBack}.webp`,a.frontImage.src=`assets/images/image-bank-front/header-${s.currentImageFront}.webp`}window.addEventListener("keydown",e=>{"Escape"===e.key&&t()&&d()&&m()}),document.addEventListener("DOMContentLoaded",function(){a={main:document.querySelector(".ticket-wrapper"),background:document.querySelector(".ticket-background"),backgroundImage:document.querySelector(".ticket-back-image"),frontImage:document.querySelector(".ticket-header-image"),front:document.querySelector(".ticket-front-content"),back:document.querySelector(".ticket-back-content"),buttonRemove:document.querySelector("#close-ticket"),text:document.querySelector("#fortune-content"),numbers:document.querySelector("#ticket-lucky-numbers"),ticketCount:document.querySelector(".count-tickets-icon")},o={main:document.querySelector(".save-delete-ticket"),save:document.getElementById("save-button"),discard:document.getElementById("discard-button"),cover:document.querySelector(".cover")},i={settings:document.querySelector(".settings-menu-container")},a.main.addEventListener("click",k),a.buttonRemove.addEventListener("click",m),[o.discard,o.save].forEach((e,t)=>{e.addEventListener("click",()=>{var e;e=t,r([o.main,a.ticketCount,i.settings],"hidden"),c(o.cover),1===e&&n(s)})})});export{s as state,t as isTicketCurrentlyDisplayed,d as isTicketCurrentlyFlipped,u as isSaveDiscardVisible,l as toggleTicketOn,g as updateTicket};